#!/bin/bash

# Install dotfiles
if [ ! -d $HOME/.dotfiles ]; then
  git clone https://github.com/mikemackintosh/dotfiles $HOME/.dotfiles
else
  cd $HOME/.dotfiles
  git pull --rebase
fi

# Create private dir
if [ -d "${HOME}/.private/" ]; then
  mkdir $HOME/.private
  touch $HOME/.private/nil
fi

# Backup
if [ -f $HOME/.bash_profile ]; then
  cp $HOME/.bash_profile $HOME/.bash_profile.orig
fi

# Get readlink
`readlink $HOME/.bash_profile | grep .dotfiles/bash_profile.sh > /dev/null`
BASH=$?
if [ $BASH == 1 ]; then
  ln -s $HOME/.dotfiles/bash_profile.sh $HOME/.bash_profile
fi
